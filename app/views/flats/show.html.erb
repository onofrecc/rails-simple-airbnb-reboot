<%# MAPBOX PART, STILL NEED TO CENTER IN PLACE %>
<div id='map' style='height: 300px;'></div>
<script>
// TO MAKE THE MAP APPEAR YOU MUST
// ADD YOUR ACCESS TOKEN FROM
// https://account.mapbox.com
mapboxgl.accessToken = 'pk.eyJ1IjoiYWx2YXJvdHJ1amlsbG8iLCJhIjoiY2w2cDFjYnR5MDNzdTNkbHRtdzA4cmY3biJ9.lsta0qKCe4dg0jLGeJ8JVw';
const map = new mapboxgl.Map({
container: 'map', // container ID
style: 'mapbox://styles/mapbox/streets-v11', // style URL
center: [-74.5, 40], // starting position [lng, lat]
zoom: 9, // starting zoom
projection: 'globe' // display the map as a 3D globe
});
map.on('style.load', () => {
map.setFog({}); // Set the default atmosphere style
});
</script>

<br>
<div class="card text-dark bg-light mb-3" style="max-width: 36rem;">
  <div class="card-body">
    <h2 class="card-title"><%= @flat.name %></h2>
    <p class="card-text"><%= @flat.address %></p>
  </div>
</div>
<div class="card text-dark bg-light mb-3" style="max-width: 36rem;">
  <div class="card-body">
    <h4 class="card-title">Flat description</h4>
    <p class="card-text"><%= @flat.description %></p>
  </div>
</div>
<div class="card text-dark bg-light mb-3" style="max-width: 36rem;">
  <div class="card-body">
    <h4 class="card-title">Flat details</h4>
    <div class="row">
      <p class="col card-text"><i class="col fa-solid fa-user-group"></i> <%= @flat.number_of_guests %></p>
      <p class="col card-text"><i class="col fa-solid fa-euro-sign"></i> <%= @flat.price_per_night %></p>
    </div>
  </div>
</div>


<div class="map" style="background-image: url('https://maps.googleapis.com/maps/api/staticmap?center=<%= @flat.address %>&zoom=13&scale=2&size=1000x1000&maptype=roadmap&markers=color:red%7C<%= @flat.address %>&key=AIzaSyAPpx0wk4d-AQ8bhe8-a-ihC7NXLoPElhg')"></div>
